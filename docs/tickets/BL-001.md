# Ticket BL-001: Scaffold Project with uv and Dev Tooling

## Description
Set up the initial Python project scaffold for `liriac` using `uv` as the environment and build manager. Establish the packaging metadata, source layout, and development tooling required by the technical spec and conventions. This ticket does not implement the CLI, domain, or TUI; it only prepares the project so subsequent tickets can build features with strict typing and consistent style.

Scope:
- Create `pyproject.toml` with PEP 621 metadata:
  - `name = "liriac"`, `requires-python = ">=3.11"`.
  - Empty runtime deps for now (functional deps added in later tickets).
  - `[project.optional-dependencies].dev` including `ruff`, `black`, `mypy`, `pytest`, and stubs as needed.
  - Configure tools in `pyproject.toml`: `ruff`, `black`, `mypy` (strict).
- Establish source layout and minimal package:
  - `src/liriac/__init__.py` with `__version__` and `__all__`.
  - Place a `py.typed` marker if needed later; not required for this ticket.
- Ensure Makefile targets operate with uv:
  - `make venv`, `make sync`, `make fmt`, `make lint`, `make typecheck`, `make test`, `make build`.
  - `uv sync --all-extras` installs the `dev` extra.
- Add a minimal test to validate the tooling pipeline runs (e.g., import `liriac.__version__`).
- No OS support beyond Linux; no network calls in tests; adhere to strict typing.

Context:
- Technical spec requires strict typing (`mypy --strict`) as a CI gate.
- Conventions require no implicit `Any`, ruff/black for style, and `uv` for env and builds.
- CLI wiring and runtime dependencies (Textual, Typer, httpx, Pydantic, etc.) are introduced in later tickets (BL-002+).

## Acceptance Criteria
- `pyproject.toml` exists with:
  - `[project]` metadata (`name="liriac"`, `requires-python=">=3.11"`).
  - `[project.optional-dependencies].dev` includes: `ruff`, `black`, `mypy`, `pytest`, `typing-extensions`, and common `types-*` stubs as needed.
  - `[tool.ruff]` configured (reasonable defaults; prevents unintentional `Any` via mypy, enforced separately).
  - `[tool.black]` configured (e.g., target-version `py311`).
  - `[tool.mypy]` is `strict` (or equivalent flags) and passes on the scaffold.
- Source layout present:
  - `src/liriac/__init__.py` defines `__version__` as a string constant and exports it via `__all__`.
- Tooling works end-to-end on Linux:
  - `make venv` creates a local `.venv`.
  - `make sync` installs dependencies including the `dev` extra without errors.
  - `make fmt` runs and makes no changes after initial run.
  - `make lint` passes with zero errors.
  - `make typecheck` passes with `mypy --strict`.
  - `make test` runs `pytest` successfully (at least 1 passing test).
  - `make build` produces wheel and sdist via `uv build`.
- No extra files or sample code beyond whatâ€™s necessary for scaffolding.

## Testing Strategy
- Add `tests/test_version.py`:
  - Verifies `from liriac import __version__` imports and is a non-empty string.
- Run the full developer loop:
  - `make venv && make sync`
  - `make fmt && make lint`
  - `make typecheck`
  - `make test`
  - `make build`
- Ensure `mypy --strict` runs against `src/` and test files without `Any` leaks or ignored errors.
- Validate that formatting and linting produce a clean tree (no diffs after `make fmt`).